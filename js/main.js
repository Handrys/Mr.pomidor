var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};isMobile.any()||isMobile.iOS()?document.body.classList.add("_touch"):document.body.classList.add("_pc");let iconMenu=document.querySelector(".menu-header__icon"),body=document.querySelector("body"),menuBody=document.querySelector(".menu-header__menu");iconMenu&&iconMenu.addEventListener("click",(function(e){iconMenu.classList.toggle("_active"),body.classList.toggle("lock"),menuBody.classList.toggle("_active")}));let soundOpt,currentRound="pomodoro",pomMinutesOpt="25",smallBreakOpt="1",bigBreakOpt="15",roundsOpt=5,totalRounds=0,bckgRed="linear-gradient(45deg, rgba(114, 3, 3, 0.822) 2%, rgb(199, 49, 35) 90%)",bckgBlue="linear-gradient(45deg, rgba(46, 3, 114, 0.822) 2%, rgb(35, 133, 199) 90%)",minutes=pomMinutesOpt,seconds="0";function template(e){e<10&&1==e.toString().split("").length&&(e="0"+e),seconds<10&&1==seconds.toString().split("").length&&(seconds="0"+seconds),document.querySelector(".timer-data__number-minutes").innerHTML=e,document.querySelector(".timer-data__number-seconds").innerHTML=seconds}function start(e){minutes=e-1,seconds="60",console.log(minutes);let t=setInterval((function(){template(minutes),minutes-=1}),6e4),n=setInterval((function(){seconds-=1,template(minutes),seconds<=0&&(minutes<=0&&(clearInterval(t),clearInterval(n),checkRound()),seconds=60)}),1e3);document.querySelector(".timer-header__skip").addEventListener("click",(()=>{clearInterval(t),clearInterval(n)}))}function checkRound(){totalRounds<roundsOpt+3?("pomodoro"==currentRound?(currentRound="smallBreak",document.querySelector(".content-timer__window").style.background=bckgBlue,document.querySelector(".timer-data__info").innerHTML="[перерыв]",template(smallBreakOpt)):(currentRound="pomodoro",document.querySelector(".content-timer__window").style.background=bckgRed,document.querySelector(".timer-data__info").innerHTML="[помидорка]",template(pomMinutesOpt)),totalRounds++):(currentRound="bigBreak",document.querySelector(".content-timer__window").style.background=bckgBlue,document.querySelector(".timer-data__info").innerHTML="[большой перерыв]",totalRounds=0,template(bigBreakOpt))}template(minutes),document.querySelector(".timer-start").addEventListener("click",(()=>{"pomodoro"==currentRound&&start(pomMinutesOpt),"smallBreak"==currentRound&&start(smallBreakOpt),"bigBreak"==currentRound&&start(bigBreakOpt)})),document.querySelector(".timer-stop").addEventListener("click",(()=>{window.location.reload()})),document.querySelector(".timer-header__skip").addEventListener("click",(()=>{seconds=0,checkRound()}));